<!DOCTYPE html>
<html ng-app="cityPulse">
<head>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <script type="text/javascript" src="/d3/build/d3.js"></script>
  <script type="text/javascript" src="/d3-scale-chromatic/build/d3-scale-chromatic.js"></script>
  <link href="/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/weather-icons.css">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <title>City Pulse</title>
</head>
<body ng-controller="mainController">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <a class="navbar-brand" href="#">City Pulse</a>
      </div>
    </div><!-- /.container-fluid -->
  </nav>
  <div class="row">
    <div class="container">
      <div class="search">
        <div class="col-sm-12">
          <input type="text" class="search-box col-sm-12" name="location" placeholder="Search for a city" ng-autocomplete ng-model="location" options="{types: '(cities)'}" details="details" ng-required="true" ng-blur="search(location)"/>
          <!-- <button type="button" class="btn" ng-click="search(location)">Search</button> -->
        </div>
      </div>
    </div>
  </div>
  <!-- General stats like weather and time -->
  <div class="row">
    <div class="container">
      <!-- <h1>{{ weatherDB.name }}</h1> -->
      <div class="col-sm-12 text-center">
        <div class="col-sm-4 col-sm-offset-4">
          <div class="weather-container">
            <div class="icon-wrap">
              <i class="wi wi-day-thunderstorm"></i>
            </div>
            <p class="temp">{{ weatherDB.main.temp | number: 0}} &#8457; | {{ weatherDB.weather[0].main | lowercase }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Foursquare data -->
  <div class="row">
    <div class="container">
      <h1>Popular restaurants</h1>
      <div ng-repeat="venues in fourDB | limitTo: 4">
        <div class="col-sm-3">{{ venues.venue.name }}
          <div style="background-image: url('{{venues.tips[0].photourl}}'); width:100%; height:100px; background-position:center;">&nbsp;</div>
          </div>
        </div>
      </div>
    </div>

  <!-- Twitter -->
  <div class="row">
    <div class="container">
      <h1>Tweets</h1>
      <div ng-repeat="tweet in tweets">
       <div class="col-sm-12">
        <div class="tweet-container">
          <img src="{{ tweet.user.profile_image_url }}" />
          <p>{{ tweet.user.name }}</p>
          <p>{{ tweet.text }}</p>
        </div>
      </div>
      </div>
    </div>
  </div>

<!-- Scripts -->
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDQX1NwXDMRS8EEfA_bHLoB5N3NkB1e5a0"></script>
  <script src="/angular/angular.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/services/apiFactory.js"></script>
  <script src="/js/controllers/mainController.js"></script>
  <script src="/js/directives/weatherDirective.js"></script>
  <script src="/ng-autocomplete/src/ngAutocomplete.js"></script>
</body>
</html>