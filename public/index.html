<!DOCTYPE html>
<html ng-app="cityPulse">
<head>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <script type="text/javascript" src="/d3/build/d3.js"></script>
  <script type="text/javascript" src="/d3-scale-chromatic/build/d3-scale-chromatic.js"></script>
  <link href="/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/weather-icons.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <title>City Seeker</title>
</head>
<body ng-controller="mainController">

<div class="top-section">
  <nav class="navbar navbar-custom">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <a class="navbar-brand" href="#">City Seeker</a>
      </div>
    </div><!-- /.container-fluid -->
  </nav>


  <!-- top section -->
    <div class="row">
      <div class="container">
        <div class="search">
          <div class="col-sm-12">
              <form ng-submit="search(city)">
            <input type="text" class="search-box col-sm-12" name="city" placeholder="Search for a city" ng-autocomplete ng-model="city" options="{types: '(cities)'}" details="details" ng-required="true" ng-blur="search(city)"/> <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </form>
            <!-- <button type="button" class="btn" ng-click="search(city)">Search</button> -->
          </div>
        </div>
      </div>
    </div>

    <!-- General stats like weather and time -->
    <div class="row">
      <div class="container">
        <div class="col-sm-12 text-center">
          <div class="weather-container">
            <div class="icon-wrap">
              <i class="wi wi-owm-{{ weatherDB.weather[0].id}}"></i>
            </div>
              <!-- <p ng-click = "switchTemperature()" ng-show="fahrenheit" class="temp">{{ tempFahrenheit | number: 0}} &#8457; | {{ weatherDB.weather[0].main | lowercase }}</p>
              <p ng-click = "switchTemperature()" ng-show="!fahrenheit" class="temp">{{ tempCelsius | number: 0}} &#8451; | {{ weatherDB.weather[0].main | lowercase }}</p> -->
             <p class="temp">{{ weatherDB.main.temp | number: 0}} &#8457; | {{ weatherDB.weather[0].main | lowercase }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

<div class="super-container">

<!-- FLICKR PHOTOS -->
  <div class="row">
      <div class="container">
        <div class="col-sm-12 section">
        <h2 class="title text-center">The Sights</h2>
        <div ng-repeat="photo in photoDB | limitTo: 4">
          <div class="col-sm-6">
            <!-- <img class="img-responsive img-thumbnail img-flickr" src='https://farm{{photo.farm}}.staticflickr.com/{{photo.server}}/{{photo.id}}_{{photo.secret}}.jpg' /> -->
            <div class="img-flickr" style="background-image: url(https://farm{{photo.farm}}.staticflickr.com/{{photo.server}}/{{photo.id}}_{{photo.secret}}.jpg);"></div>
          </div>
        </div>
      </div>
    </div>
    </div>

  <!-- Foursquare data -->
  <div class="row">
      <div class="container">
        <div class="col-sm-12 section">
          <h2 class="title text-center">The Tastes</h2>
          <div ng-repeat="venues in fourDB | limitTo: 4">
          <div class="col-sm-3">
            <div class="fq-venue-name-container">
              <span class="fq-venue-name">{{ venues.venue.name | limitTo: 20 }}</span>
            </div>
            <img class="img-responsive img-thumbnail" src="{{venues.venue.photos.groups[0].items[0].prefix}}200x200{{venues.venue.photos.groups[0].items[0].suffix}}" />
            </div>
          </div>
        </div>
      </div>
  </div>

  <!-- Twitter -->

  <div class="row">
    <div class="container">
      <div class="col-sm-12 section">
      <h2 class="title text-center">The Talk</h2>

      <div ng-repeat="trend in trends | filter:{tweet_volume:'!!'} | orderBy:'-tweet_volume' | limitTo: 12">
        <div class="col-sm-3 trend-container"><button type="button" class="btn"><a href="{{trend.url}}">{{ trend.name }}</a></button></div>
       <!--{{ trend.tweet_volume }}-->
      </div>

        <div ng-repeat="tweet in tweets | limitTo: 3">
          <div class="col-sm-12 tweet-container">
            <div>
              <div class="col-sm-1">
                <img src="{{ tweet.user.profile_image_url }}" class="img-tweet"/>
              </div>
              <div class="col-sm-11">
                <p class="tweet-username"><strong>{{ tweet.user.name }}</strong></p>
                <p class="tweet-text">{{ tweet.text }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div> <!-- END OF CONTAINER -->
<img src="https://beta.mapquestapi.com/staticmap/v5/map?key=c9LUj3gveNGWjKMfAUk0VKnN8ZwkLuqX&size=1500,+170&type=sat&locations={{city}}"/>
<!-- Scripts -->
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDQX1NwXDMRS8EEfA_bHLoB5N3NkB1e5a0"></script>
  <script src="/angular/angular.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/services/apiFactory.js"></script>
  <script src="/js/controllers/mainController.js"></script>
  <script src="/js/directives/weatherDirective.js"></script>
  <script src="/ng-autocomplete/src/ngAutocomplete.js"></script>
</body>
</html>